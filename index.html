<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoreVault</title>
    
    <meta name="theme-color" content="#6666ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" href="lorevault.png">
</head>
<body data-theme="dark">
    <div class="overlay" id="overlay"></div>
    
    <header class="header">
        <button class="hamburger" id="hamburger">
            <i class="fas fa-bars"></i>
        </button>
        <div class="logo">
            <i class="fas fa-archive"></i> LoreVault
        </div>
        <div class="search-bar">
            <input type="text" class="search-input" id="searchInput" placeholder="Rechercher...">
            <button class="voice-search" id="voiceSearch" title="Recherche vocale">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="focus-mode" id="focusMode" title="Mode Focus">
                <i class="fas fa-eye"></i>
            </button>
        </div>
    </header>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-section">
            <div class="sidebar-title">
                <i class="fas fa-palette"></i> Thèmes
            </div>
            <div class="theme-grid">
                <button class="theme-btn" data-theme="light">
                    <i class="fas fa-sun"></i> Light
                </button>
                <button class="theme-btn active" data-theme="dark">
                    <i class="fas fa-moon"></i> Dark
                </button>
                <button class="theme-btn" data-theme="neon">
                    <i class="fas fa-bolt"></i> Neon
                </button>
                <button class="theme-btn" data-theme="monochrome">
                    <i class="fas fa-adjust"></i> Mono
                </button>
                <button class="theme-btn" data-theme="royal">
                    <i class="fas fa-crown"></i> Royal
                </button>
                <button class="theme-btn" data-theme="vintage">
                    <i class="fas fa-clock"></i> Vintage
                </button>
                <button class="theme-btn" data-theme="glassmorphism">
                    <i class="fas fa-gem"></i> Glass
                </button>
            </div>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-title">
                <i class="fas fa-user"></i> Profil
            </div>
            <div class="input-group">
                <input type="text" id="nickname" placeholder="Votre surnom">
            </div>
            <div class="input-group">
                <input type="password" id="password" placeholder="Mot de passe">
            </div>
        </div>

        <div class="sidebar-section">
            <a href="https://ko-fi.com/karlito08" class="kofi-link" target="_blank">
                <i class="fas fa-coffee"></i> Soutenir sur Ko-Fi
            </a>
        </div>

        <div class="sidebar-section" style="position: relative;">
            <div class="sidebar-title">
                <i class="fas fa-cog"></i> Paramètres
            </div>
            <button class="theme-btn" id="settingsToggle" style="width: 100%;">
                <i class="fas fa-wrench"></i> Options
            </button>
            <div class="settings-menu" id="settingsMenu">
                <div class="settings-item" id="clearAllBtn">
                    <i class="fas fa-trash"></i> Supprimer tout
                </div>
                <div class="settings-item" id="exportBtn">
                    <i class="fas fa-download"></i> Exporter
                </div>
                <div class="settings-item" id="importBtn">
                    <i class="fas fa-upload"></i> Importer
                </div>
                <div class="settings-item" id="addImageBtn">
                    <i class="fas fa-image"></i> Ajouter image
                </div>
            </div>
        </div>
    </aside>

    <main class="main" id="main">
        <section class="stats-section" id="statsSection">
            <div class="stat-card">
                <div class="stat-number" id="totalItems">0</div>
                <div class="stat-label">Total</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="watchedItems">0</div>
                <div class="stat-label">Vus</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="toWatchItems">0</div>
                <div class="stat-label">À voir</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="favoriteItems">0</div>
                <div class="stat-label">Favoris</div>
            </div>
        </section>

        <div class="categories-container">
            <section class="categories">
                <button class="category-btn active" data-category="all">
                    <i class="fas fa-th"></i> Tout
                </button>
                <button class="category-btn" data-category="anime">
                    <i class="fas fa-play-circle"></i> Anime
                </button>
                <button class="category-btn" data-category="manga">
                    <i class="fas fa-book"></i> Manga
                </button>
                <button class="category-btn" data-category="webtoon">
                    <i class="fas fa-mobile-alt"></i> Webtoon
                </button>
                <button class="category-btn" data-category="serie">
                    <i class="fas fa-tv"></i> Série
                </button>
                <button class="category-btn" data-category="film">
                    <i class="fas fa-film"></i> Film
                </button>
                <button class="category-btn" data-category="light-novel">
                    <i class="fas fa-feather"></i> Light-Novel
                </button>
                <button class="category-btn" data-category="livre">
                    <i class="fas fa-book-open"></i> Livre
                </button>
                <button class="category-btn" data-category="favorites">
                    <i class="fas fa-heart"></i> Favoris
                </button>
            </section>
        </div>

        <section class="controls">
            <div class="sort-controls">
                <select class="sort-btn" id="sortSelect">
                    <option value="date">Date d'ajout</option>
                    <option value="title">Alphabétique</option>
                    <option value="status">Statut</option>
                    <option value="rating">Note</option>
                </select>
                <button class="sort-btn" id="sortOrder">
                    <i class="fas fa-sort-amount-down"></i>
                </button>
            </div>
            <button class="add-btn" id="addBtn">
                <i class="fas fa-plus"></i> Ajouter
            </button>
        </section>

        <section class="media-grid" id="mediaGrid"></section>

        <div class="badges-section" id="badgesSection"></div>
    </main>

    <!-- Modal d'ajout/édition -->
    <div class="modal" id="mediaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Ajouter un média</h2>
                <button class="close-btn" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="mediaForm">
                <input type="hidden" id="editId">
                <div class="form-group">
                    <label for="mediaTitle">Titre</label>
                    <input type="text" id="mediaTitle" required>
                </div>
                <div class="form-group">
                    <label for="mediaCategory">Catégorie</label>
                    <select id="mediaCategory" required>
                        <option value="anime">Anime</option>
                        <option value="manga">Manga</option>
                        <option value="webtoon">Webtoon</option>
                        <option value="serie">Série</option>
                        <option value="film">Film</option>
                        <option value="light-novel">Light-Novel</option>
                        <option value="livre">Livre</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="mediaStatus">Statut</label>
                    <select id="mediaStatus">
                        <option value="Déjà regardé">Déjà regardé</option>
                        <option value="Pas encore">Pas encore</option>
                        <option value="À regarder">À regarder</option>
                        <option value="En cours">En Cours</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="mediaRating">Note (1-5)</label>
                    <div class="rating-stars" id="ratingStars">
                        <i class="fas fa-star star" data-rating="1"></i>
                        <i class="fas fa-star star" data-rating="2"></i>
                        <i class="fas fa-star star" data-rating="3"></i>
                        <i class="fas fa-star star" data-rating="4"></i>
                        <i class="fas fa-star star" data-rating="5"></i>
                    </div>
                    <input type="hidden" id="mediaRating" value="0">
                </div>
                <div class="form-group">
                    <label for="mediaImage">Image</label>
                    <input type="file" id="mediaImage" accept="image/*">
                </div>
                <div class="form-group">
                    <label for="mediaNotes">Notes</label>
                    <textarea id="mediaNotes" rows="3" placeholder="Vos notes sur ce média..."></textarea>
                </div>
                <div class="form-group">
                    <label for="reminderDate">Rappel</label>
                    <input type="datetime-local" id="reminderDate">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelBtn">Annuler</button>
                    <button type="submit" class="btn-primary">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de confirmation -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Confirmation</h2>
                <button class="close-btn" id="closeConfirm">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="confirmMessage"></div>
            <div class="form-actions">
                <button class="btn-secondary" id="confirmCancel">Annuler</button>
                <button class="btn-primary" id="confirmOk">Confirmer</button>
            </div>
        </div>
    </div>

    <input type="file" id="importFile" accept=".json" style="display: none;">
    <input type="file" id="imageFile" accept="image/*" style="display: none;">

    <script src="script.js"></script>
</body>
</html>
